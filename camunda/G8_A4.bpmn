<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" id="Definitions_Risikoanalyse" targetNamespace="http://example.com/risikoanalyse" exporter="Camunda Web Modeler" exporterVersion="b5f5bac" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:collaboration id="Collaboration_09zgq6z">
    <bpmn:participant id="Participant_0jg3cgq" name="Risikoanalyse Niederspannungsnetz" processRef="Process_Risikoanalyse" />
  </bpmn:collaboration>
  <bpmn:process id="Process_Risikoanalyse" name="Risikoanalyse Niederspannungsnetz" isExecutable="true">
    <bpmn:laneSet id="LaneSet_125fi5f">
      <bpmn:lane id="Lane_1hp3nhm" name="Netzplaner">
        <bpmn:flowNodeRef>Activity_1p13w7h</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1n5dc96</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0wk5eaj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_18b9vgk</bpmn:flowNodeRef>
      <bpmn:flowNodeRef>Event_StartMessage</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1h6zckn</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0kniuj0" name="Systeme">
        <bpmn:flowNodeRef>Activity_116j7ih</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0xakvd3" name="Netzingenieur">
        <bpmn:flowNodeRef>EndEvent_Abgeschlossen</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:subProcess id="Activity_116j7ih" name="Risikobearbeitung durchführen">
      <bpmn:incoming>Flow_1u67nck</bpmn:incoming>
      <bpmn:outgoing>Flow_1khbqc1</bpmn:outgoing>
      <bpmn:userTask id="Task_Dokumentieren" name="Abschluss dokumentieren">
        <bpmn:extensionElements>
          <zeebe:userTask />
          <zeebe:formDefinition formId="Form_Abschluss" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1ed6oyh</bpmn:incoming>
        <bpmn:incoming>Flow_1wqjlxa</bpmn:incoming>
      </bpmn:userTask>
      <bpmn:userTask id="Task_LegacyEintragen" name="Maßnahme im Legacy-System erfassen">
        <bpmn:extensionElements>
          <zeebe:userTask />
          <zeebe:formDefinition formId="Form_Legacy" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1tppqjq</bpmn:incoming>
        <bpmn:outgoing>Flow_1ed6oyh</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="Flow_1ed6oyh" sourceRef="Task_LegacyEintragen" targetRef="Task_Dokumentieren" />
      <bpmn:sequenceFlow id="Flow_ManuellToDok" sourceRef="Task_LegacyManuell" targetRef="Task_Dokumentieren" />
      <bpmn:sequenceFlow id="Flow_RpaFailed" sourceRef="Event_RpaFailed" targetRef="Task_LegacyManuell" />
      <bpmn:exclusiveGateway id="Gateway_Entscheidung" name="Entscheidung?">
        <bpmn:incoming>Flow_03he7um</bpmn:incoming>
        <bpmn:outgoing>Flow_1tppqjq</bpmn:outgoing>
        <bpmn:outgoing>Flow_1wqjlxa</bpmn:outgoing>
        <bpmn:outgoing>Flow_0zlsi3d</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:userTask id="Task_ErgebnisBewerten" name="Ergebnis bewerten">
        <bpmn:extensionElements>
          <zeebe:userTask />
          <zeebe:formDefinition formId="Form_Bewertung" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0npyn22</bpmn:incoming>
        <bpmn:outgoing>Flow_03he7um</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="Flow_1tppqjq" name="Massnahme erforderlich" sourceRef="Gateway_Entscheidung" targetRef="Task_LegacyEintragen">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=entscheidung = "massnahme"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1wqjlxa" name="Keine Massnahme" sourceRef="Gateway_Entscheidung" targetRef="Task_Dokumentieren">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=entscheidung = "keine_massnahme"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:exclusiveGateway id="Gateway_AnalyseMerge" name="Analyse fertig">
        <bpmn:incoming>Flow_00zzof7</bpmn:incoming>
        <bpmn:incoming>Flow_1dxi185</bpmn:incoming>
        <bpmn:outgoing>Flow_0npyn22</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:serviceTask id="Task_Standardanalyse" name="Standardanalyse durchführen" zeebe:modelerTemplate="io.camunda.connectors.HttpJson.v2" zeebe:modelerTemplateVersion="12" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjAzMzUgOC45OTk5N0MxNy4wMzM1IDEzLjQ0NzUgMTMuNDI4MSAxNy4wNTI5IDguOTgwNjUgMTcuMDUyOUM0LjUzMzE2IDE3LjA1MjkgMC45Mjc3NjUgMTMuNDQ3NSAwLjkyNzc2NSA4Ljk5OTk3QzAuOTI3NzY1IDQuNTUyNDggNC41MzMxNiAwLjk0NzA4MyA4Ljk4MDY1IDAuOTQ3MDgzQzEzLjQyODEgMC45NDcwODMgMTcuMDMzNSA0LjU1MjQ4IDE3LjAzMzUgOC45OTk5N1oiIGZpbGw9IiM1MDU1NjIiLz4KPHBhdGggZD0iTTQuOTMxMjYgMTQuMTU3MUw2Ljc4MTA2IDMuNzE0NzFIMTAuMTM3NUMxMS4xOTE3IDMuNzE0NzEgMTEuOTgyNCAzLjk4MzIzIDEyLjUwOTUgNC41MjAyN0MxMy4wNDY1IDUuMDQ3MzYgMTMuMzE1IDUuNzMzNTggMTMuMzE1IDYuNTc4OTJDMTMuMzE1IDcuNDQ0MTQgMTMuMDcxNCA4LjE1NTIyIDEyLjU4NDEgOC43MTIxNUMxMi4xMDY3IDkuMjU5MTMgMTEuNDU1MyA5LjYzNzA1IDEwLjYyOTggOS44NDU5TDEyLjA2MTkgMTQuMTU3MUgxMC4zMzE1TDkuMDMzNjQgMTAuMDI0OUg3LjI0MzUxTDYuNTEyNTQgMTQuMTU3MUg0LjkzMTI2Wk03LjQ5NzExIDguNTkyODFIOS4yNDI0OEM5Ljk5ODMyIDguNTkyODEgMTAuNTkwMSA4LjQyMzc0IDExLjAxNzcgOC4wODU2MUMxMS40NTUzIDcuNzM3NTMgMTEuNjc0MSA3LjI2NTEzIDExLjY3NDEgNi42Njg0MkMxMS42NzQxIDYuMTkxMDYgMTEuNTI0OSA1LjgxODExIDExLjIyNjUgNS41NDk1OUMxMC45MjgyIDUuMjcxMTMgMTAuNDU1OCA1LjEzMTkgOS44MDkzNiA1LjEzMTlIOC4xMDg3NEw3LjQ5NzExIDguNTkyOFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=">
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
          <zeebe:ioMapping>
            <zeebe:input source="noAuth" target="authentication.type" />
            <zeebe:input source="GET" target="method" />
            <zeebe:input source="https://leta-unintriguing-nonintroversively.ngrok-free.dev/risk/1" target="url" />
            <zeebe:input source="={&#34;ngrok-skip-browser-warning&#34;:&#34;true&#34;}" target="headers" />
            <zeebe:input source="=false" target="storeResponse" />
            <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
            <zeebe:input source="=20" target="readTimeoutInSeconds" />
            <zeebe:input source="=false" target="ignoreNullValues" />
          </zeebe:ioMapping>
          <zeebe:taskHeaders>
            <zeebe:header key="elementTemplateVersion" value="12" />
            <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
            <zeebe:header key="resultVariable" value="riskResponse" />
            <zeebe:header key="resultExpression" value="=response.body" />
            <zeebe:header key="retryBackoff" value="PT0S" />
          </zeebe:taskHeaders>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_10eawuo</bpmn:incoming>
        <bpmn:outgoing>Flow_00zzof7</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="Task_ErweiterteAnalyse" name="Erweiterte Analyse durchführen" zeebe:modelerTemplate="io.camunda.connectors.HttpJson.v2" zeebe:modelerTemplateVersion="12" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjAzMzUgOC45OTk5N0MxNy4wMzM1IDEzLjQ0NzUgMTMuNDI4MSAxNy4wNTI5IDguOTgwNjUgMTcuMDUyOUM0LjUzMzE2IDE3LjA1MjkgMC45Mjc3NjUgMTMuNDQ3NSAwLjkyNzc2NSA4Ljk5OTk3QzAuOTI3NzY1IDQuNTUyNDggNC41MzMxNiAwLjk0NzA4MyA4Ljk4MDY1IDAuOTQ3MDgzQzEzLjQyODEgMC45NDcwODMgMTcuMDMzNSA0LjU1MjQ4IDE3LjAzMzUgOC45OTk5N1oiIGZpbGw9IiM1MDU1NjIiLz4KPHBhdGggZD0iTTQuOTMxMjYgMTQuMTU3MUw2Ljc4MTA2IDMuNzE0NzFIMTAuMTM3NUMxMS4xOTE3IDMuNzE0NzEgMTEuOTgyNCAzLjk4MzIzIDEyLjUwOTUgNC41MjAyN0MxMy4wNDY1IDUuMDQ3MzYgMTMuMzE1IDUuNzMzNTggMTMuMzE1IDYuNTc4OTJDMTMuMzE1IDcuNDQ0MTQgMTMuMDcxNCA4LjE1NTIyIDEyLjU4NDEgOC43MTIxNUMxMi4xMDY3IDkuMjU5MTMgMTEuNDU1MyA5LjYzNzA1IDEwLjYyOTggOS44NDU5TDEyLjA2MTkgMTQuMTU3MUgxMC4zMzE1TDkuMDMzNjQgMTAuMDI0OUg3LjI0MzUxTDYuNTEyNTQgMTQuMTU3MUg0LjkzMTI2Wk03LjQ5NzExIDguNTkyODFIOS4yNDI0OEM5Ljk5ODMyIDguNTkyODEgMTAuNTkwMSA4LjQyMzc0IDExLjAxNzcgOC4wODU2MUMxMS40NTUzIDcuNzM3NTMgMTEuNjc0MSA3LjI2NTEzIDExLjY3NDEgNi42Njg0MkMxMS42NzQxIDYuMTkxMDYgMTEuNTI0OSA1LjgxODExIDExLjIyNjUgNS41NDk1OUMxMC45MjgyIDUuMjcxMTMgMTAuNDU1OCA1LjEzMTkgOS44MDkzNiA1LjEzMTlIOC4xMDg3NEw3LjQ5NzExIDguNTkyODFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K">
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
          <zeebe:ioMapping>
            <zeebe:input source="noAuth" target="authentication.type" />
            <zeebe:input source="GET" target="method" />
            <zeebe:input source="https://leta-unintriguing-nonintroversively.ngrok-free.dev/risk/2" target="url" />
            <zeebe:input source="={&#34;ngrok-skip-browser-warning&#34;:&#34;true&#34;}" target="headers" />
            <zeebe:input source="=false" target="storeResponse" />
            <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
            <zeebe:input source="=20" target="readTimeoutInSeconds" />
            <zeebe:input source="=false" target="ignoreNullValues" />
          </zeebe:ioMapping>
          <zeebe:taskHeaders>
            <zeebe:header key="elementTemplateVersion" value="12" />
            <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
            <zeebe:header key="resultVariable" value="riskResponse" />
            <zeebe:header key="resultExpression" value="=response.body" />
            <zeebe:header key="retryBackoff" value="PT0S" />
          </zeebe:taskHeaders>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0dtjsal</bpmn:incoming>
        <bpmn:outgoing>Flow_1dxi185</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_Verfahren" name="Standard oder Erweitert?">
        <bpmn:incoming>Flow_AfterWait</bpmn:incoming>
        <bpmn:outgoing>Flow_10eawuo</bpmn:outgoing>
        <bpmn:outgoing>Flow_0dtjsal</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:businessRuleTask id="Task_DMN_Analyseverfahren" name="Analyseverfahren bestimmen (DMN)">
        <bpmn:extensionElements>
          <zeebe:calledDecision decisionId="Decision_Analyseverfahren_FINAL" resultVariable="analyseverfahren" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0r1y2hj</bpmn:incoming>
        <bpmn:incoming>Flow_0zlsi3d</bpmn:incoming>
        <bpmn:outgoing>Flow_0ilsyp6</bpmn:outgoing>
      </bpmn:businessRuleTask>
      <bpmn:serviceTask id="Task_CO2Forecast" name="CO2 Forecast abrufen" zeebe:modelerTemplate="io.camunda.connectors.HttpJson.v2" zeebe:modelerTemplateVersion="12" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjAzMzUgOC45OTk5N0MxNy4wMzM1IDEzLjQ0NzUgMTMuNDI4MSAxNy4wNTI5IDguOTgwNjUgMTcuMDUyOUM0LjUzMzE2IDE3LjA1MjkgMC45Mjc3NjUgMTMuNDQ3NSAwLjkyNzc2NSA4Ljk5OTk3QzAuOTI3NzY1IDQuNTUyNDggNC41MzMxNiAwLjk0NzA4MyA4Ljk4MDY1IDAuOTQ3MDgzQzEzLjQyODEgMC45NDcwODMgMTcuMDMzNSA0LjU1MjQ4IDE3LjAzMzUgOC45OTk5N1oiIGZpbGw9IiM1MDU1NjIiLz4KPHBhdGggZD0iTTQuOTMxMjYgMTQuMTU3MUw2Ljc4MTA2IDMuNzE0NzFIMTAuMTM3NUMxMS4xOTE3IDMuNzE0NzEgMTEuOTgyNCAzLjk4MzIzIDEyLjUwOTUgNC41MjAyN0MxMy4wNDY1IDUuMDQ3MzYgMTMuMzE1IDUuNzMzNTggMTMuMzE1IDYuNTc4OTJDMTMuMzE1IDcuNDQ0MTQgMTMuMDcxNCA4LjE1NTIyIDEyLjU4NDEgOC43MTIxNUMxMi4xMDY3IDkuMjU5MTMgMTEuNDU1MyA5LjYzNzA1IDEwLjYyOTggOS44NDU5TDEyLjA2MTkgMTQuMTU3MUgxMC4zMzE1TDkuMDMzNjQgMTAuMDI0OUg3LjI0MzUxTDYuNTEyNTQgMTQuMTU3MUg0LjkzMTI2Wk03LjQ5NzExIDguNTkyODFIOS4yNDI0OEM5Ljk5ODMyIDguNTkyODEgMTAuNTkwMSA4LjQyMzc0IDExLjAxNzcgOC4wODU2MUMxMS40NTUzIDcuNzM3NTMgMTEuNjc0MSA3LjI2NTEzIDExLjY3NDEgNi42Njg0MkMxMS42NzQxIDYuMTkxMDYgMTEuNTI0OSA1LjgxODExIDExLjIyNjUgNS41NDk1OUMxMC45MjgyIDUuMjcxMTMgMTAuNDU1OCA1LjEzMTkgOS44MDkzNiA1LjEzMTlIOC4xMDg3NEw3LjQ5NzExIDguNTkyOFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=">
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
          <zeebe:ioMapping>
            <zeebe:input source="noAuth" target="authentication.type" />
            <zeebe:input source="GET" target="method" />
            <zeebe:input source="=carbonApiUrl" target="url" />
            <zeebe:input source="=true" target="storeResponse" />
            <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
            <zeebe:input source="=20" target="readTimeoutInSeconds" />
            <zeebe:input source="=false" target="ignoreNullValues" />
          </zeebe:ioMapping>
          <zeebe:taskHeaders>
            <zeebe:header key="elementTemplateVersion" value="12" />
            <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
            <zeebe:header key="resultVariable" value="co2Forecast" />
            <zeebe:header key="resultExpression" value="=response.body" />
            <zeebe:header key="retryBackoff" value="PT0S" />
          </zeebe:taskHeaders>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0ilsyp6</bpmn:incoming>
        <bpmn:outgoing>Flow_TimeShiftCalc</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="Task_TimeShiftCalc" name="Optimale Startzeit berechnen">
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="time-shifting" retries="3" />
          <zeebe:ioMapping>
            <zeebe:input source="=co2Forecast" target="co2Forecast" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_TimeShiftCalc</bpmn:incoming>
        <bpmn:outgoing>Flow_WaitForGreen</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:intermediateCatchEvent id="Event_WaitForGreen" name="Time Shifting warten">
        <bpmn:incoming>Flow_WaitForGreen</bpmn:incoming>
        <bpmn:outgoing>Flow_AfterWait</bpmn:outgoing>
        <bpmn:timerEventDefinition>
          <bpmn:timeDate>=shiftStartTime</bpmn:timeDate>
        </bpmn:timerEventDefinition>
      </bpmn:intermediateCatchEvent>
      <bpmn:sequenceFlow id="Flow_03he7um" sourceRef="Task_ErgebnisBewerten" targetRef="Gateway_Entscheidung" />
      <bpmn:sequenceFlow id="Flow_0npyn22" sourceRef="Gateway_AnalyseMerge" targetRef="Task_ErgebnisBewerten" />
      <bpmn:sequenceFlow id="Flow_00zzof7" sourceRef="Task_Standardanalyse" targetRef="Gateway_AnalyseMerge" />
      <bpmn:sequenceFlow id="Flow_1dxi185" sourceRef="Task_ErweiterteAnalyse" targetRef="Gateway_AnalyseMerge" />
      <bpmn:userTask id="Task_DatenKorrigieren" name="Daten korrigieren">
        <bpmn:extensionElements>
          <zeebe:formDefinition formId="Form_Netzdaten" />
          <zeebe:userTask />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_12n6yw6</bpmn:incoming>
        <bpmn:outgoing>Flow_11x831b</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:exclusiveGateway id="Gateway_DatenOk" name="Sind Fehler in den Daten?">
        <bpmn:incoming>Flow_0z1kiik</bpmn:incoming>
        <bpmn:outgoing>Flow_0r1y2hj</bpmn:outgoing>
        <bpmn:outgoing>Flow_12n6yw6</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:userTask id="Task_DatenPruefen" name="Daten prüfen">
        <bpmn:extensionElements>
          <zeebe:formDefinition formId="Form_Netzdaten" />
          <zeebe:userTask />
          <zeebe:ioMapping>
            <zeebe:output source="=if fehlerInDaten = null then false else fehlerInDaten" target="fehlerInDaten" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_11x831b</bpmn:incoming>
        <bpmn:incoming>Flow_10saqgl</bpmn:incoming>
        <bpmn:outgoing>Flow_0z1kiik</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="Flow_0z1kiik" sourceRef="Task_DatenPruefen" targetRef="Gateway_DatenOk" />
      <bpmn:sequenceFlow id="Flow_0r1y2hj" name="Nein" sourceRef="Gateway_DatenOk" targetRef="Task_DMN_Analyseverfahren">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=fehlerInDaten = false</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_12n6yw6" name="Ja" sourceRef="Gateway_DatenOk" targetRef="Task_DatenKorrigieren">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=fehlerInDaten = true</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_11x831b" sourceRef="Task_DatenKorrigieren" targetRef="Task_DatenPruefen" />
      <bpmn:sequenceFlow id="Flow_0ilsyp6" sourceRef="Task_DMN_Analyseverfahren" targetRef="Task_CO2Forecast" />
      <bpmn:sequenceFlow id="Flow_TimeShiftCalc" sourceRef="Task_CO2Forecast" targetRef="Task_TimeShiftCalc" />
      <bpmn:sequenceFlow id="Flow_WaitForGreen" sourceRef="Task_TimeShiftCalc" targetRef="Event_WaitForGreen" />
      <bpmn:sequenceFlow id="Flow_AfterWait" sourceRef="Event_WaitForGreen" targetRef="Gateway_Verfahren" />
      <bpmn:sequenceFlow id="Flow_10eawuo" name="Standard" sourceRef="Gateway_Verfahren" targetRef="Task_Standardanalyse">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=analyseverfahren = true</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0dtjsal" name="Erweitert" sourceRef="Gateway_Verfahren" targetRef="Task_ErweiterteAnalyse">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=analyseverfahren = false</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0zlsi3d" name="Simulation erneut ausführen" sourceRef="Gateway_Entscheidung" targetRef="Task_DMN_Analyseverfahren">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=entscheidung = "erneut_simulieren"</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:startEvent id="startSubProzess" name="Start der Risikobearbeitung">
        <bpmn:extensionElements />
        <bpmn:outgoing>Flow_10saqgl</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_10saqgl" sourceRef="startSubProzess" targetRef="Task_DatenPruefen" />
    </bpmn:subProcess>
    <bpmn:endEvent id="EndEvent_Abgeschlossen" name="Vorgang abgeschlossen">
      <bpmn:incoming>Flow_1khbqc1</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Activity_1p13w7h" name="Eintrag im Legacy zurücknehmen">
      <bpmn:extensionElements>
        <zeebe:userTask />
        <zeebe:formDefinition formId="Form_Legacy" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1vbe9sn</bpmn:incoming>
      <bpmn:outgoing>Flow_0u48277</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1n5dc96" name="Maßnahme schon erfasst?">
      <bpmn:incoming>Flow_1prjwpv</bpmn:incoming>
      <bpmn:outgoing>Flow_1vbe9sn</bpmn:outgoing>
      <bpmn:outgoing>Flow_0w4fe48</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0wk5eaj" name="Vorgang abgebrochen">
      <bpmn:incoming>Flow_0w4fe48</bpmn:incoming>
      <bpmn:incoming>Flow_0u48277</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="Event_18b9vgk" name="Start Risikoanalyse (Formular)">
      <bpmn:extensionElements>
        <zeebe:formDefinition formId="Form_Netzdaten" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1u67nck</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:startEvent id="Event_StartMessage" name="Start Risikoanalyse (Message)">
      <bpmn:outgoing>Flow_start_message</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_Start" messageRef="Message_3qa12o2" />
    </bpmn:startEvent>
    <bpmn:boundaryEvent id="Event_1h6zckn" name="Risikoanalyse durch Netzplaner abgebrochen" attachedToRef="Activity_116j7ih">
      <bpmn:outgoing>Flow_1prjwpv</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_03tm1gp" messageRef="Message_1suq25v" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1u67nck" sourceRef="Event_18b9vgk" targetRef="Activity_116j7ih" />
    <bpmn:sequenceFlow id="Flow_start_message" sourceRef="Event_StartMessage" targetRef="Activity_116j7ih" />
    <bpmn:sequenceFlow id="Flow_1khbqc1" sourceRef="Activity_116j7ih" targetRef="EndEvent_Abgeschlossen" />
    <bpmn:sequenceFlow id="Flow_1vbe9sn" name="Ja" sourceRef="Gateway_1n5dc96" targetRef="Activity_1p13w7h">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=massnahmeErfasst = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0u48277" sourceRef="Activity_1p13w7h" targetRef="Event_0wk5eaj" />
    <bpmn:sequenceFlow id="Flow_1prjwpv" sourceRef="Event_1h6zckn" targetRef="Gateway_1n5dc96" />
    <bpmn:sequenceFlow id="Flow_0w4fe48" name="Nein" sourceRef="Gateway_1n5dc96" targetRef="Event_0wk5eaj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=massnahmeErfasst = false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmn:error id="Error_RpaFailed" name="RPA failed" errorCode="RPA_FAILED" />
  <bpmn:message id="Message_3qa12o2" name="StartRisikoAnalyse">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=auftragId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_1suq25v" name="AbbruchRisikoanalyse">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=auftragId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_09zgq6z">
      <bpmndi:BPMNShape id="Participant_0jg3cgq_di" bpmnElement="Participant_0jg3cgq" isHorizontal="true">
        <dc:Bounds x="297" y="247" width="1915" height="730" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0xakvd3_di" bpmnElement="Lane_0xakvd3" isHorizontal="true" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="327" y="742" width="1885" height="235" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0kniuj0_di" bpmnElement="Lane_0kniuj0" isHorizontal="true" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="327" y="532" width="1885" height="210" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1hp3nhm_di" bpmnElement="Lane_1hp3nhm" isHorizontal="true" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="327" y="247" width="1885" height="285" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_116j7ih_di" bpmnElement="Activity_116j7ih" isExpanded="true">
        <dc:Bounds x="397" y="387" width="1660" height="570" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_Dokumentieren" bpmnElement="Task_Dokumentieren">
        <dc:Bounds x="1907" y="817" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_LegacyEintragen" bpmnElement="Task_LegacyEintragen">
        <dc:Bounds x="1757" y="817" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_Entscheidung" bpmnElement="Gateway_Entscheidung" isMarkerVisible="true">
        <dc:Bounds x="1640" y="832" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1590" y="820" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_ErgebnisBewerten" bpmnElement="Task_ErgebnisBewerten">
        <dc:Bounds x="1477" y="817" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_AnalyseMerge" bpmnElement="Gateway_AnalyseMerge" isMarkerVisible="true">
        <dc:Bounds x="1502" y="632" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1563" y="650" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_Standard" bpmnElement="Task_Standardanalyse">
        <dc:Bounds x="1215" y="547" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_Extended" bpmnElement="Task_ErweiterteAnalyse">
        <dc:Bounds x="1215" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_Verfahren" bpmnElement="Gateway_Verfahren" isMarkerVisible="true">
        <dc:Bounds x="990" y="624" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1050" y="636" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_DMN" bpmnElement="Task_DMN_Analyseverfahren">
        <dc:Bounds x="805" y="609" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_DatenKorrigieren" bpmnElement="Task_DatenKorrigieren">
        <dc:Bounds x="685" y="409" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_DatenOk" bpmnElement="Gateway_DatenOk" isMarkerVisible="true">
        <dc:Bounds x="710" y="794" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="700" y="854" width="71" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_DatenPruefen" bpmnElement="Task_DatenPruefen">
        <dc:Bounds x="535" y="779" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02v02j0_di" bpmnElement="startSubProzess">
        <dc:Bounds x="529" y="431" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="503" y="401" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ed6oyh_di" bpmnElement="Flow_1ed6oyh">
        <di:waypoint x="1857" y="857" />
        <di:waypoint x="1907" y="857" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tppqjq_di" bpmnElement="Flow_1tppqjq">
        <di:waypoint x="1690" y="857" />
        <di:waypoint x="1757" y="857" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1679" y="823" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wqjlxa_di" bpmnElement="Flow_1wqjlxa">
        <di:waypoint x="1665" y="832" />
        <di:waypoint x="1665" y="777" />
        <di:waypoint x="1957" y="777" />
        <di:waypoint x="1957" y="817" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1782" y="743" width="60" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03he7um_di" bpmnElement="Flow_03he7um">
        <di:waypoint x="1577" y="857" />
        <di:waypoint x="1640" y="857" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0npyn22_di" bpmnElement="Flow_0npyn22">
        <di:waypoint x="1527" y="682" />
        <di:waypoint x="1527" y="817" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00zzof7_di" bpmnElement="Flow_00zzof7">
        <di:waypoint x="1315" y="587" />
        <di:waypoint x="1468" y="587" />
        <di:waypoint x="1468" y="657" />
        <di:waypoint x="1502" y="657" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dxi185_di" bpmnElement="Flow_1dxi185">
        <di:waypoint x="1315" y="687" />
        <di:waypoint x="1468" y="687" />
        <di:waypoint x="1468" y="657" />
        <di:waypoint x="1502" y="657" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z1kiik_di" bpmnElement="Flow_0z1kiik">
        <di:waypoint x="635" y="819" />
        <di:waypoint x="710" y="819" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r1y2hj_di" bpmnElement="Flow_0r1y2hj">
        <di:waypoint x="760" y="819" />
        <di:waypoint x="835" y="819" />
        <di:waypoint x="835" y="689" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="763" y="801" width="23" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12n6yw6_di" bpmnElement="Flow_12n6yw6">
        <di:waypoint x="735" y="794" />
        <di:waypoint x="735" y="489" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="719" y="772" width="12" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11x831b_di" bpmnElement="Flow_11x831b">
        <di:waypoint x="685" y="449" />
        <di:waypoint x="617" y="449" />
        <di:waypoint x="617" y="779" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ilsyp6_di" bpmnElement="Flow_0ilsyp6">
        <di:waypoint x="905" y="649" />
        <di:waypoint x="990" y="649" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10eawuo_di" bpmnElement="Flow_10eawuo">
        <di:waypoint x="1015" y="624" />
        <di:waypoint x="1015" y="586" />
        <di:waypoint x="1215" y="586" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1084" y="560" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dtjsal_di" bpmnElement="Flow_0dtjsal">
        <di:waypoint x="1015" y="674" />
        <di:waypoint x="1015" y="697" />
        <di:waypoint x="1215" y="697" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1085" y="710" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zlsi3d_di" bpmnElement="Flow_0zlsi3d">
        <di:waypoint x="1665" y="882" />
        <di:waypoint x="1665" y="937" />
        <di:waypoint x="875" y="937" />
        <di:waypoint x="875" y="689" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1574" y="903" width="86" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10saqgl_di" bpmnElement="Flow_10saqgl">
        <di:waypoint x="547" y="467" />
        <di:waypoint x="547" y="779" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Shape_EndEvent_Abgeschlossen" bpmnElement="EndEvent_Abgeschlossen">
        <dc:Bounds x="2134" y="799" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2115" y="843" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1p13w7h_di" bpmnElement="Activity_1p13w7h">
        <dc:Bounds x="1207" y="277" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1n5dc96_di" bpmnElement="Gateway_1n5dc96" isMarkerVisible="true">
        <dc:Bounds x="1092" y="292" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1073" y="255" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0wk5eaj_di" bpmnElement="Event_0wk5eaj">
        <dc:Bounds x="1399" y="299" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1384" y="262" width="65" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18b9vgk_di" bpmnElement="Event_18b9vgk">
        <dc:Bounds x="529" y="309" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="512" y="259" width="71" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_StartMessage_di" bpmnElement="Event_StartMessage">
        <dc:Bounds x="529" y="239" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="502" y="199" width="84" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1p4pp54_di" bpmnElement="Event_1h6zckn">
        <dc:Bounds x="1019" y="369" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="996" y="412" width="85" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1u67nck_di" bpmnElement="Flow_1u67nck">
        <di:waypoint x="547" y="345" />
        <di:waypoint x="547" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_start_message_di" bpmnElement="Flow_start_message">
        <di:waypoint x="547" y="255" />
        <di:waypoint x="547" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1khbqc1_di" bpmnElement="Flow_1khbqc1">
        <di:waypoint x="2057" y="817" />
        <di:waypoint x="2134" y="817" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vbe9sn_di" bpmnElement="Flow_1vbe9sn">
        <di:waypoint x="1142" y="317" />
        <di:waypoint x="1207" y="317" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1169" y="299" width="12" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u48277_di" bpmnElement="Flow_0u48277">
        <di:waypoint x="1307" y="317" />
        <di:waypoint x="1399" y="317" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1prjwpv_di" bpmnElement="Flow_1prjwpv">
        <di:waypoint x="1037" y="369" />
        <di:waypoint x="1037" y="317" />
        <di:waypoint x="1092" y="317" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0w4fe48_di" bpmnElement="Flow_0w4fe48">
        <di:waypoint x="1117" y="342" />
        <di:waypoint x="1117" y="377" />
        <di:waypoint x="1417" y="377" />
        <di:waypoint x="1417" y="335" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1125" y="359" width="23" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
